<!DOCTYPE html>
<html data-theme="light" lang="en">
<head>
  <meta charset="utf-8" />
  <meta content="width=device-width,initial-scale=1" name="viewport" />
  <title>Scrummer â€” Plan</title>

  <link href="css/style.css?v=8" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"/>

  <style>
    .planWrap{ max-width: 980px; }

    .splitHeader{
      display:flex;
      justify-content:space-between;
      align-items:flex-end;
      gap:12px;
      flex-wrap:wrap;
      margin-bottom: 10px;
    }

    .forecastCard{
      margin-top: 14px;
      border: 1px solid var(--border);
      border-radius: var(--radius);
      background:
        linear-gradient(180deg, color-mix(in oklab, var(--accent) 7%, transparent), transparent),
        var(--bg-panel);
      padding: 16px;
      box-shadow: var(--shadow-soft);
    }

    .forecastNumber{
      font-size: 34px;
      font-weight: 850;
      letter-spacing: -0.6px;
      line-height: 1.1;
      display:flex;
      align-items:baseline;
      gap:8px;
      flex-wrap:wrap;
    }
    .forecastNumber .unit{
      font-size: 14px;
      font-weight: 650;
      color: var(--text-muted);
    }
  </style>
</head>

<body data-page="plan">
<div class="appShell">

  <!-- ================= SIDEBAR ================= -->
  <aside class="sideNav">

    <div class="sideBrand">
      <div class="brandMark">S</div>
      <div>
        <div class="brandName">SCRUMMER</div>
        <div class="brandTag">Gamified Scrum OS</div>
      </div>
    </div>

    <nav class="nav">
      <a class="navlink active" href="index.html">ğŸš€ Plan</a>
      <a class="navlink" href="coach.html">ğŸ¤– Coach</a>
      <a class="navlink" href="Gamerules.html">ğŸ® Game Rules</a>
      <a class="navlink" href="accounts.html">ğŸ” Account</a>
    </nav>

    <!-- XP Widget -->
    <div class="xpWidget">
      <div class="xpTop">
        <div>
          <div class="lvl" id="xpLevel">Level 1</div>
          <div class="title" id="xpTitle">Rookie</div>
        </div>
        <div id="moodBadge">ğŸ† Calm</div>
      </div>
      <div class="xpBar"><div class="xpFill" id="xpFill"></div></div>
      <div class="xpMeta">
        <span id="xpText">0 / 300 XP</span>
        <span id="streakText">ğŸ§Š streak reset</span>
      </div>
    </div>

    <!-- Theme -->
    <div style="margin-top:14px;">
      <div class="mutedText" style="margin-bottom:6px;">ğŸ® Theme</div>
      <select class="fun-input" id="themeSelect">
        <option value="light">ğŸŒ¤ï¸ Light</option>
        <option value="mint">ğŸƒ Mint Arcade</option>
        <option value="neon">âš¡ Neon Arena</option>
        <option value="retro">ğŸ² Retro Arcade</option>
      </select>
    </div>

  </aside>

  <!-- ================= MAIN ================= -->
  <main class="main">
    <div class="planWrap">

      <section class="sectionCard">

        <div class="splitHeader">
          <div>
            <h1 class="sectionTitle">Enter Sprint History</h1>
            <p class="sectionSub">
              Enter once. Forecast updates immediately when you hit <b>Save</b>.
            </p>
          </div>
        </div>

        <div class="info-banner">
          <strong>Tip:</strong> Sprint length = working days only (exclude weekends + holidays).
        </div>

        <!-- ===== SETUP GRID ===== -->
        <div style="margin-top:12px;">
          <div class="fieldGrid fieldGrid-even">

            <div>
              <div class="kvKey">Sprint length (working days)</div>
              <input class="fun-input numSm" id="setup_sprintDays" type="number" max="999"/>
            </div>

            <div>
              <div class="kvKey">Team members</div>
              <input class="fun-input numSm" id="setup_teamMembers" type="number" max="999"/>
            </div>

            <div>
              <div class="kvKey">Leave days (person-days)</div>
              <input class="fun-input numSm" id="setup_leaveDays" type="number" max="999"/>
            </div>

            <div>
              <div class="kvKey">Committed story points</div>
              <input class="fun-input numSm" id="setup_committedSP" type="number" max="999"/>
            </div>

          </div>
        </div>

        <!-- ===== VELOCITY INPUTS ===== -->
        <div class="info-banner" style="margin-top:14px;">
          <div class="kvKey">Last 3 sprint velocities</div>
          <div class="velocityRow" style="margin-top:10px;">
            <div class="velItem">
              <div class="velLabel">Sprint N-1</div>
              <input class="fun-input numSm" id="setup_v1" type="number" max="999"/>
            </div>
            <div class="velItem">
              <div class="velLabel">Sprint N-2</div>
              <input class="fun-input numSm" id="setup_v2" type="number" max="999"/>
            </div>
            <div class="velItem">
              <div class="velLabel">Sprint N-3</div>
              <input class="fun-input numSm" id="setup_v3" type="number" max="999"/>
            </div>
          </div>
        </div>

        <!-- ===== PRESETS ===== -->
        <div style="margin-top:14px;">
          <div class="kvKey">Quick presets</div>
          <div class="btnRow" style="margin-top:10px;">
            <button class="btnGhost" id="setup_presetExcellent">ğŸŸ¢ Excellent</button>
            <button class="btnGhost" id="setup_presetNormal">ğŸŸ¡ Normal</button>
            <button class="btnGhost" id="setup_presetRisky">ğŸ”´ Risky</button>
          </div>
        </div>

        <!-- ===== SAVE ===== -->
        <div style="margin-top:14px;">
          <button class="btnStage btnStage-next" id="setup_saveBtn">Save</button>
          <div class="mutedText" id="setup_saveStatus" style="margin-top:8px;">
            Not saved yet.
          </div>
        </div>

        <!-- ================= FORECAST ================= -->
        <div class="forecastCard" id="forecastCard">

          <div class="kvKey">Forecast</div>

          <div style="margin-top:10px;">
            <select class="fun-input" id="forecast_forecastMode">
              <option value="velocity">Velocity-Based</option>
              <option value="capacity" selected>Capacity-Based</option>
            </select>
          </div>

          <div style="margin-top:14px;">
            <div class="forecastNumber">
              <span id="forecast_value">â€”</span>
              <span class="unit">SP</span>
              <span class="deltaPill" id="overcommitPill" style="display:none;"></span>
            </div>

            <div style="margin-top:10px; display:flex; gap:10px; flex-wrap:wrap;">
              <span class="deltaPill" id="forecast_delta" style="display:none;"></span>
              <span class="deltaPill" id="forecast_overcommit" style="display:none;"></span>
            </div>
          </div>

          <!-- Capacity inputs -->
          <div style="margin-top:14px;">
            <div class="fieldGrid fieldGrid-even">
              <div>
                <div class="velLabel">Focus Factor</div>
                <input class="fun-input numSm" id="forecast_focusFactor" type="number" value="0.60"/>
              </div>

              <div>
                <div class="velLabel">Leave Weight</div>
                <input class="fun-input numSm" id="forecast_leaveWeight" type="number" value="1.0"/>
              </div>

              <div>
                <div class="velLabel">SP per Team Day</div>
                <input class="fun-input numSm" id="forecast_spPerDay" type="number" value="1.0"/>
              </div>
            </div>
          </div>

        </div>

      </section>

    </div>
  </main>
</div>

<script src="js/theme.js"></script>
<script src="js/xp.js"></script>
<script src="js/plan.js"></script>
</body>
</html>

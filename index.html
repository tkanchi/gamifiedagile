<!DOCTYPE html>

<html data-theme="light" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<title>Scrummer â€” Plan</title>
<link href="css/style.css?v=3" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
<style>
.tabBar{display:flex;gap:10px;flex-wrap:wrap;margin:10px 0 14px}
.tabBtn{border-radius:14px;padding:10px 14px;font-weight:650;cursor:pointer;border:1px solid var(--border);background:var(--bg-soft);color:var(--text-main);transition:transform .12s ease, filter .12s ease, background .12s ease, border-color .12s ease;}
.tabBtn:hover{transform:translateY(-1px)}
.tabBtn.active{background: rgba(99,102,241,0.95); color:#fff; border-color: rgba(99,102,241,0.55); box-shadow: 0 10px 24px rgba(99,102,241,0.18);}
.tabPanel.hidden{display:none}
</style></head>
<body data-page="plan">
<div class="appShell">
<aside class="sideNav">
<div class="sideBrand">
<div class="brandMark"><span>S</span></div>
<div>
<div class="brandName">SCRUMMER</div>
<div class="brandTag">Gamified Scrum OS</div>
</div>
</div>
<nav class="nav"><a class="navlink active" href="index.html">ğŸš€ Plan</a><a class="navlink" href="coach.html">ğŸ¤– Coach</a><a class="navlink" href="Gamerules.html">ğŸ® Game Rules</a><a class="navlink" href="accounts.html">ğŸ” Account</a></nav>
<div class="xpWidget">
<div class="xpTop">
<div>
<div class="lvl" id="xpLevel">Level 1</div>
<div class="title" id="xpTitle">Rookie</div>
</div>
<div id="moodBadge">ğŸ† Calm</div>
</div>
<div class="xpBar"><div class="xpFill" id="xpFill"></div></div>
<div class="xpMeta">
<span id="xpText">0 / 300 XP</span>
<span id="streakText">ğŸ§Š streak reset</span>
</div>
</div>
<button class="themeToggle" id="themeToggle" type="button">
        Theme: <span id="themeMode">Light</span>
</button>
</aside>
<main class="main">
<div class="tabBar">
<button class="tabBtn active" data-tab="setup">Setup</button>
<button class="tabBtn" data-tab="forecast">Forecast</button>
</div>
<section class="tabPanel" id="panel-setup">
<div class="sectionCard">
<h1 class="sectionTitle">Launchpad</h1>
<p class="sectionSub">Enter sprint basics. This powers Insights â†’ Health â†’ Actions.</p>
<div class="info-banner">
<strong>Tip:</strong> Accurate setup = better signals + fewer surprises.
        </div>
<div style="margin-top:10px; max-width:720px;">
<div class="kvKey" style="margin-bottom:6px;">Sprint length (working days)</div>
<input class="fun-input" id="setup_sprintDays" min="1" placeholder="10" type="number"/>
<div class="kvKey" style="margin:12px 0 6px;">Team members</div>
<input class="fun-input" id="setup_teamMembers" min="1" placeholder="7" type="number"/>
<div class="kvKey" style="margin:12px 0 6px;">Leave days (total person-days)</div>
<input class="fun-input" id="setup_leaveDays" min="0" placeholder="0" type="number"/>
<div class="kvKey" style="margin:12px 0 6px;">Committed story points</div>
<input class="fun-input" id="setup_committedSP" min="0" placeholder="40" type="number"/>
<div class="info-banner" style="margin-top:14px;">
<div class="kvKey">Last 3 sprint velocities (completed SP)</div>
<div class="mutedText" style="margin-top:6px;">Used for average + volatility.</div>
<div style="display:grid; gap:10px; margin-top:12px;">
<input class="fun-input" id="setup_v1" min="0" placeholder="N-1 velocity (e.g., 36)" type="number"/>
<input class="fun-input" id="setup_v2" min="0" placeholder="N-2 velocity (e.g., 41)" type="number"/>
<input class="fun-input" id="setup_v3" min="0" placeholder="N-3 velocity (e.g., 38)" type="number"/>
</div>
</div>
<div style="margin-top:14px;">
<div class="kvKey" style="margin-bottom:6px;">Quick presets</div>
<div class="btnRow" style="margin-top:8px;">
<button class="btnGhost" id="setup_presetExcellent" type="button">ğŸŸ¢ Excellent</button>
<button class="btnGhost" id="setup_presetNormal" type="button">ğŸŸ¡ Normal</button>
<button class="btnGhost" id="setup_presetRisky" type="button">ğŸ”´ Risky</button>
</div>
</div>
<div class="info-banner" id="setup_toast" style="display:none; margin-top:14px; border-left:4px solid rgba(99,102,241,.55);">
            â€”
          </div>
<div class="stageIndicator">Flow: Setup â†’ Insights â†’ ğŸ›¡ï¸ Health â†’ Actions</div>
<div class="stageFooter">
<div class="left">
<span class="mutedText">Step 1 of 4</span>
</div>
<div class="right">
<button class="btnStage btnStage-action" id="setup_saveBtn" type="button">Save Setup</button>
<a class="btnStage btnStage-next" href="coach.html#insights">Next: Insights â†’</a>
</div>
</div>
<div class="info-banner" style="margin-top:16px;">
<div class="kvKey">Save status</div>
<div class="mutedText" id="setup_saveStatus" style="margin-top:6px;">Not saved yet.</div>
</div>
</div>
</div>
</section>
<section class="tabPanel hidden" id="panel-forecast">
<div class="sectionCard">
<h1 class="sectionTitle">Sprint Forecast</h1>
<p class="sectionSub">Two modes: Velocity Average or Capacity (Focus + Leaves Weight).</p>
<div class="info-banner">
<strong>Goal:</strong> Get a clean, explainable forecast in Story Points.
        </div>
<!-- MODE SELECT -->
<div style="margin-top:16px;">
<div class="kvKey">Forecast Mode</div>
<select class="fun-input" id="forecast_forecastMode">
<option value="velocity">ğŸ”µ Velocity-Based (Avg of last 3)</option>
<option selected="" value="capacity">ğŸŸ¢ Capacity-Based (Focus + Leaves Weight)</option>
</select>
</div>
<!-- ============================= -->
<!-- VELOCITY MODE -->
<!-- ============================= -->
<div class="info-banner" id="forecast_velocityBox" style="margin-top:14px; display:none;">
<div class="kvKey">ğŸ”µ Velocity-Based Forecast</div>
<div style="color:var(--text-muted); font-weight:450; margin-top:6px;">
            Average Velocity = (Sprint N + Sprint N-1 + Sprint N-2) / 3
          </div>
<div style="display:grid; gap:10px; margin-top:12px;">
<div>
<div class="kvKey" style="margin-bottom:6px;">Sprint N</div>
<input class="fun-input" id="forecast_velN" min="0" placeholder="e.g., 40" step="1" type="number"/>
</div>
<div>
<div class="kvKey" style="margin-bottom:6px;">Sprint N-1</div>
<input class="fun-input" id="forecast_velN1" min="0" placeholder="e.g., 38" step="1" type="number"/>
</div>
<div>
<div class="kvKey" style="margin-bottom:6px;">Sprint N-2</div>
<input class="fun-input" id="forecast_velN2" min="0" placeholder="e.g., 42" step="1" type="number"/>
</div>
</div>
</div>
<!-- ============================= -->
<!-- CAPACITY MODE -->
<!-- ============================= -->
<div class="info-banner" id="forecast_capacityBox" style="margin-top:14px;">
<div class="kvKey">ğŸŸ¢ Capacity-Based Forecast (Your Exact Logic)</div>
<div style="color:var(--text-muted); font-weight:450; margin-top:6px; line-height:1.6;">
            Ideal (Days/person) = Sprint Days Ã— Focus Factor<br/>
            Total Ideal Days = Team Members Ã— Ideal (Days/person)<br/>
            Total Actual Days = Total Ideal Days âˆ’ (Leaves Ã— Weight)<br/>
            Forecast SP = Total Actual Days Ã— SP/day
          </div>
<div style="display:grid; gap:10px; margin-top:12px;">
<div>
<div class="kvKey" style="margin-bottom:6px;">Total No. of Days in Sprint</div>
<input class="fun-input" id="forecast_sprintDays" min="0" placeholder="e.g., 10" step="0.5" type="number"/>
</div>
<div>
<div class="kvKey" style="margin-bottom:6px;">Focus Factor (0 - 1)</div>
<input class="fun-input" id="forecast_focusFactor" max="1" min="0" step="0.01" type="number" value="0.60"/>
</div>
<div>
<div class="kvKey" style="margin-bottom:6px;">Total Team Count</div>
<input class="fun-input" id="forecast_teamCount" min="0" placeholder="e.g., 14" step="1" type="number"/>
<div id="forecast_teamCountHint" style="display:none; color:var(--text-muted); font-weight:450; margin-top:6px;">
                Team Count is auto-calculated from Roles below.
              </div>
</div>
<div>
<div class="kvKey" style="margin-bottom:6px;">Story Points per Day (per member)</div>
<input class="fun-input" id="forecast_spPerDay" min="0" step="0.1" type="number" value="4"/>
</div>
<div>
<div class="kvKey" style="margin-bottom:6px;">Total No. of Leaves (single field)</div>
<input class="fun-input" id="forecast_leaves" min="0" placeholder="e.g., 10" step="0.5" type="number"/>
<div id="forecast_leavesHint" style="display:none; color:var(--text-muted); font-weight:450; margin-top:6px;">
                Leaves are auto-calculated from Roles below.
              </div>
</div>
<div>
<div class="kvKey" style="margin-bottom:6px;">Unavailability Weight (0 - 1)</div>
<input class="fun-input" id="forecast_weight" max="1" min="0" step="0.01" type="number" value="0.50"/>
<div style="color:var(--text-muted); font-weight:450; margin-top:6px;">
                1 = 100% loss, 0.5 = 50% loss, 0.6 = 60% loss
              </div>
</div>
</div>
<!-- Roles (optional) -->
<div class="rolesHeader">
<div class="kvKey">Roles (optional)</div>
<button class="btnGhost" id="forecast_addRoleBtn" type="button">+ Add Role</button>
</div>
<div class="rolesMeta">
<span class="miniTag" id="forecast_rolesCountTag">Roles: 0</span>
<span class="miniTag" id="forecast_rolesMembersTag">Members: 0</span>
<span class="miniTag" id="forecast_rolesLeavesTag">Leaves: 0</span>
</div>
<div style="color:var(--text-muted); font-weight:450; margin-top:8px; line-height:1.6;">
            If roles exist, Team Count + Leaves are auto-filled from roles, and you get per-role capacity output.
          </div>
<div class="rolesContainer" id="forecast_rolesContainer"></div>
</div>
<!-- BUTTONS -->
<div class="btnRow" style="margin-top:12px;">
<button class="btnPrimary" id="forecast_calcBtn" type="button">Calculate ğŸ“¦</button>
<button class="btnGhost" id="forecast_resetBtn" type="button">Reset</button>
</div>
<!-- RESULTS -->
<div style="margin-top:18px;">
<div class="kvKey">Results</div>
<div class="info-banner" id="forecast_warnBox" style="display:none; margin-bottom:12px;">
<div class="kvKey">âš  Check Inputs</div>
<div id="forecast_warnText" style="color:var(--text-muted); font-weight:450; margin-top:6px;"></div>
</div>
<div class="info-banner" id="forecast_resultsBox">
<div class="kvKey" id="forecast_resultTitle">â€”</div>
<div id="forecast_resultMain" style="margin-top:8px;">â€”</div>
<!-- âœ… Side-by-side summaries -->
<div class="summaryGrid" id="forecast_summaryGrid" style="display:none;">
<div class="summaryCard">
<div class="summaryTitle">
<span>Team Summary</span>
<span class="miniTag">Totals</span>
</div>
<div id="forecast_teamSummary"></div>
</div>
<div class="summaryCard">
<div class="summaryTitle">
<span>Role Summary</span>
<span class="miniTag">Breakdown</span>
</div>
<div id="forecast_roleSummary"></div>
</div>
</div>
<hr style="margin:12px 0; opacity:.2;"/>
<!-- ğŸ“˜ STATIC FORMULA REFERENCE (Always Visible) -->
<div class="info-banner" id="forecast_formulaReference" style="margin-bottom:12px;">
<div class="kvKey" style="margin-bottom:6px;">ğŸ“˜ Forecast Formulas (Reference)</div>
<div><b>1) Ideal Capacity (Days per person)</b></div>
<div>Ideal = Sprint Days Ã— Focus Factor</div>
<div style="margin-top:8px;"><b>2) Total Ideal Capacity (Days)</b></div>
<div>Total Ideal Days = Team Count Ã— Ideal</div>
<div style="margin-top:8px;"><b>3) Total Actual Capacity (Days)</b></div>
<div>Total Actual Days = Total Ideal Days âˆ’ (Leaves Ã— Weight)</div>
<div style="margin-top:8px;"><b>4) Total Actual Capacity (SP)</b></div>
<div>Forecast SP = max(0, Total Actual Days) Ã— SP/day</div>
</div>
<!-- ğŸ§® DYNAMIC ACTUAL CALCULATION -->
<div class="info-banner" id="forecast_formulaActual">
              Enter values and click Calculate to see step-by-step calculation.
            </div>
</div>
</div>
</div>
</section>
</main>
</div>




<script src="js/theme.js"></script><script src="js/xp.js"></script><script src="js/plan.js"></script></body>
</html>
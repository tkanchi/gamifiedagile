<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width,initial-scale=1" name="viewport"/>
  <title>Scrummer ‚Äî Coach</title>

  <!-- Cache bumped -->
  <link href="css/style.css?v=14" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"/>

  <style>
    /* Page-specific only */

    .tabBar{display:flex;gap:10px;flex-wrap:wrap;margin:10px 0 14px}
    .tabBtn{
      border-radius:14px;padding:10px 14px;font-weight:650;cursor:pointer;
      border:1px solid var(--border);
      background:var(--bg-soft);
      color:var(--text-main);
      transition:.15s ease;
    }
    .tabBtn:hover{transform:translateY(-1px)}
    .tabBtn.active{
      background: rgba(99,102,241,0.95);
      color:#fff;
      border-color: rgba(99,102,241,0.55);
      box-shadow: 0 10px 24px rgba(99,102,241,0.18);
    }
    .tabPanel.hidden{display:none}

    .coachWrap{max-width:1100px;margin:0 auto;width:100%;}

    .historyWrap{ margin-top: 12px; }
    .historyTop{display:flex; justify-content:space-between; align-items:flex-end; gap:10px; flex-wrap:wrap;}
    .historyActions{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; }

    .historyTable{
      width:100%;
      border-collapse:separate;
      border-spacing:0;
      border-radius:14px;
      border:1px solid var(--border);
      background:var(--bg-soft);
      overflow:hidden;
    }

    .historyTable th, .historyTable td{
      padding:10px;
      border-bottom:1px solid var(--border-soft);
      white-space:nowrap;
    }

    .historyTable thead th{
      font-size:12px;
      font-weight:750;
      color:var(--text-muted);
      background:color-mix(in oklab, var(--bg-soft) 72%, rgba(99,102,241,0.06));
    }

    .fileInput{ display:none; }

    /* Important: chart wrapper */
    .chartCanvasWrap{
      position:relative;
      height:220px;
      margin-top:6px;
    }

    @media(max-width:560px){
      .chartCanvasWrap{ height:190px; }
    }
  </style>
</head>

<body data-page="coach">
<div class="appShell">

<aside class="sideNav">
  <div class="sideBrand">
    <div class="brandMark"><span>S</span></div>
    <div>
      <div class="brandName">SCRUMMER</div>
      <div class="brandTag">Gamified Scrum OS</div>
    </div>
  </div>

  <nav class="nav">
    <a class="navlink" href="index.html">üöÄ Plan</a>
    <a class="navlink active" href="coach.html">ü§ñ Coach</a>
    <a class="navlink" href="Gamerules.html">üéÆ Game Rules</a>
    <a class="navlink" href="accounts.html">üîê Account</a>
  </nav>

  <div class="xpWidget">
    <div class="xpTop">
      <div>
        <div class="lvl" id="xpLevel">Level 1</div>
        <div class="title" id="xpTitle">Rookie</div>
      </div>
      <div id="moodBadge">üêÜ Calm</div>
    </div>
    <div class="xpBar"><div class="xpFill" id="xpFill"></div></div>
    <div class="xpMeta">
      <span id="xpText">0 / 300 XP</span>
      <span id="streakText">üßä streak reset</span>
    </div>
  </div>

  <button class="themeToggle" id="themeToggle" type="button">
    Theme: <span id="themeMode">Light</span>
  </button>
</aside>

<main class="main">
<div class="coachWrap">

<!-- ================= HEALTH ================= -->
<section class="tabPanel" id="panel-health">
<div class="sectionCard heroCard">

<h1 class="sectionTitle">Sprint Health Dashboard</h1>
<p class="sectionSub">Trends + stability signals (no blame). Powered by your last 6 sprints.</p>

<div class="info-banner">
  <strong>Tip:</strong> Load demo data once ‚Üí save ‚Üí charts stay updated.
</div>

<!-- Charts -->
<div class="info-banner" style="margin-top:14px;">
<div class="kvKey">Coach Charts</div>

<div class="chartGrid">

<!-- Velocity -->
<div class="chartCard">
  <div class="chartHeader">
    <div>
      <div class="chartTitle">Velocity Trend</div>
      <div class="chartSub">Completed SP (last 6 sprints)</div>
    </div>
  </div>
  <div class="chartCanvasWrap">
    <canvas class="chartCanvas" id="hist_velocityChart"></canvas>
  </div>
</div>

<!-- Predictability -->
<div class="chartCard">
  <div class="chartHeader">
    <div>
      <div class="chartTitle">Predictability</div>
      <div class="chartSub">Committed vs Completed</div>
    </div>
  </div>
  <div class="chartCanvasWrap">
    <canvas class="chartCanvas" id="hist_predictChart"></canvas>
  </div>
</div>

<!-- Capacity -->
<div class="chartCard">
  <div class="chartHeader">
    <div>
      <div class="chartTitle">Capacity Fit</div>
      <div class="chartSub">Capacity vs Completed</div>
    </div>
  </div>
  <div class="chartCanvasWrap">
    <canvas class="chartCanvas" id="hist_capacityChart"></canvas>
  </div>
</div>

<!-- Scope -->
<div class="chartCard">
  <div class="chartHeader">
    <div>
      <div class="chartTitle">Scope Disruption</div>
      <div class="chartSub">Added vs Removed mid-sprint</div>
    </div>
  </div>
  <div class="chartCanvasWrap">
    <canvas class="chartCanvas" id="hist_disruptionChart"></canvas>
  </div>
</div>

<!-- Sick -->
<div class="chartCard span2">
  <div class="chartHeader">
    <div>
      <div class="chartTitle">Team Health</div>
      <div class="chartSub">Sick leave (person-days)</div>
    </div>
  </div>
  <div class="chartCanvasWrap">
    <canvas class="chartCanvas" id="hist_sickChart"></canvas>
  </div>
</div>

</div>
</div>

</div>
</section>

</div>
</main>
</div>

<script src="js/theme.js"></script>
<script src="js/xp.js"></script>
<script src="js/coach-history.js"></script>

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>

<!-- IMPORTANT: updated version -->
<script src="js/coach-addons.js?v=10"></script>

</body>
</html>